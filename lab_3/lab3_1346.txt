Жадным алгоритмом будем отслеживать изменение монотонности функции и, благодаря этому, считать ответ. 