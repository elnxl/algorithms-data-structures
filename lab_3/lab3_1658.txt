Решение: 
Для всех чисел храним : массив1[сумма чисел][сумма квадратов чисел], а также минимальное количество чисел для достижения аргументов (суммы цифр и суммы квадратов цифр числа). Второй массив содержит [сумма чисел][сумма квадратов чисел]. На каждои из шагов мы оптимально пересчитываем состояние динамики и таким образом получаем ответ.